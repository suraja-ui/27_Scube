https://website-audit-backend-8b6k.onrender.com
;const urlEl=document.getElementById('url');const runEl=document.getElementById('run');const results=document.getElementById('results');const rawEl=document.getElementById('raw');const recsEl=document.getElementById('recs');const passesEl=document.getElementById('passes');const issuesEl=document.getElementById('issues');const dlBtn=document.getElementById('download');runEl.addEventListener('click',async()=>{const url=(urlEl.value||'').trim();if(!url){alert('Enter a URL like https://example.com');return;}runEl.disabled=true;runEl.textContent='Auditing...';try{const r=await fetch(`${API}/audit`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url})});const j=await r.json();showReport(j);}catch(e){alert('Failed to reach backend on http://localhost:8000. Start it first.');}finally{runEl.disabled=false;runEl.textContent='Run Audit';}});function showReport(j){results.style.display='block';document.getElementById('sec').textContent=j.scores.security;document.getElementById('seo').textContent=j.scores.seo;document.getElementById('perf').textContent=j.scores.performance;document.getElementById('a11y').textContent=j.scores.accessibility;recsEl.innerHTML='';(j.summary.recommendations||[]).forEach(x=>{const li=document.createElement('li');li.textContent=x;recsEl.appendChild(li);});passesEl.innerHTML=(j.summary.passes||[]).map(x=>`<span class='pill'>${escapeHtml(x)}</span>`).join(' ');issuesEl.innerHTML=(j.summary.issues||[]).map(x=>`<span class='pill'>${escapeHtml(x)}</span>`).join(' ');rawEl.textContent=JSON.stringify(j,null,2);dlBtn.disabled=false;dlBtn.onclick=()=>{const blob=new Blob([JSON.stringify(j,null,2)],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='audit-report.json';a.click();URL.revokeObjectURL(a.href);};}function escapeHtml(s){return s.replace(/[&<>'"]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','\'':'&#39;','"':'&quot;'}[c]));}